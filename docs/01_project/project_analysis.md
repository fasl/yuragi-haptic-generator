# プロジェクト解析結果

## プロジェクト概要

このプロジェクトは、デュアル振動アクチュエータを用いたアイマッサージャーのハッカソン用プロジェクトです。二軸振動アクチュエータの特性を活用し、新しい体験価値を提供するアイケアデバイスの開発を目的としています。

## 主要コンポーネント

### 1. ハードウェア構成
- **振動アクチュエータ**: 2個の二軸振動アクチュエータ
- **接続方式**: 4chサウンドデバイスとして認識
  - デバイス1: チャンネル1,2（L/R）
  - デバイス2: チャンネル3,4（L/R）
- **デバイス名**: "Miraisense Haptics"

### 2. ソフトウェアアーキテクチャ

#### DualVibrationActuator クラス
- **概要**: 4チャンネル統合音声プレーヤー
- **主要機能**:
  - 周波数モード: 正弦波による振動制御（40-20000Hz）
  - 音声モード: WAVファイル再生
  - 同期制御: 複数チャンネル間の同期機能
  - リアルタイム制御: 再生中の動的パラメータ変更

#### モジュール構成
1. `audio_config.py`: 設定・定数定義
2. `audio_validator.py`: データ検証
3. `audio_generators.py`: 音声信号生成（周波数・ファイル）
4. `sync_manager.py`: チャンネル間同期制御
5. `status_manager.py`: ステータス管理・キャッシュ
6. `audio_data_manager.py`: データ設定・チャンネル管理
7. `dual_vibration_actuator.py`: メインクラス

### 3. 技術的特徴

#### 振動制御
- **推奨周波数範囲**: 60-120Hz（アクチュエータの効果的な振動）
- **独立制御**: 各軸（X/Y）を独立して制御可能
- **波形生成**: 正弦波ベースの振動パターン
- **振幅制御**: 0.0-1.0の範囲で調整可能

#### 同期モード
- `independent`: 各出力が独立動作
- `wait_for_both`: 両方の出力終了まで待機
- `wait_for_out1`: out1にout2を同期
- `wait_for_out2`: out2にout1を同期

### 4. アプリケーション例

#### frequency_demo.py
- TkinterベースのGUIアプリケーション
- 4チャンネル独立制御
- リアルタイムパラメータ調整
- 周波数、音量、再生時間の制御

## プロジェクト制約
- **製造期間**: 1週間
- **予算**: 3万円以下
- **重量**: 500g以下の小型携帯機器への内蔵を想定

## アイマッサージャー要件（ドラフト）
1. **振動子の装着**: アクチュエータを効果的に装着する構造
2. **振動最適化**: 波形、周波数、パッドの最適化
3. **手のマッサージ感再現**: X/Y方向の独立振動制御
4. **独立制御**: 2つのアクチュエータの4ch独立制御

## 技術的洞察
- sounddeviceライブラリを使用した低レベル音声制御
- NumPyによる効率的な波形生成
- マルチスレッド対応のストリーミング再生
- ロックフリー設計によるリアルタイム性能確保
